<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../static/style_home.css">
  <title>Document</title>
</head>

<body>
  <nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Results</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
        aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/results/filter?course_name={{course_name}}&rule=1" target="_blank" role="button"
              aria-expanded="false" title="Supporting learning by process using sub-instructions">
              Rule 1
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/results/filter?course_name={{course_name}}&rule=2" target="_blank" role="button"
              aria-expanded="false" title="Clear purpose behind tasks">
              Rule 2
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/results/filter?course_name={{course_name}}&rule=3" target="_blank" role="button"
              aria-expanded="false" title="Drawing on prior knowledge for task guidance">
              Rule 3
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/results/filter?course_name={{course_name}}&rule=4" target="_blank" role="button"
              aria-expanded="false" title="Information link navigation">
              Rule 4
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  {% for result in results %}
  <div class="container mt-3 mb-2">
    <div class="row h-100">
      <div class="col-sm-9">
        <div class="card">
          <div class="card-body">
            <div class="container">
              <iframe title="Homepage Iframes" src={{ result.link }} sandbox="" width="100%" style="height: 290px;">
                <p>iframes are not supported by this browser.</p>
              </iframe>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-3">
        <div class="card" style="width: 18rem;">
          <div class="card-header">
            <h3>RESULTS</h3>
          </div>
          <ul class="list-group list-group-flush">
            {% if result.rule1 == True %}
            <li class="list-group-item">
              <p class="success"><strong>Rule 1(<span style="color: yellow">â– </span>):</strong> Violated</p>
            </li>
            {% endif %}

            {% if result.rule2 == True %}
            <li class="list-group-item">
              <p class="success"><strong>Rule 2:</strong> Violated</p>
            </li>
            {% endif %}

            {% if result.rule3 == True %}
            <li class="list-group-item">
              <p class="success"><strong>Rule 3:</strong> Violated</p>
            </li>
            {% endif %}

            {% if result.rule4 == True %}
            <li class="list-group-item">
              <p class="success"><strong>Rule 4:</strong> Violated</p>
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="container d-flex justify-content-center">
    <hr width="100%" size="6" color="gray">
  </div>
  {% endfor %}
  <div class="container d-flex justify-content-center">
    {{ pagination.links }}
  </div>
  <script>
    // Listen for the 'popstate' event
    window.addEventListener('popstate', function (event) {
      // Reload the page
      location.reload(true);
    });
  </script>
</body>

</html>